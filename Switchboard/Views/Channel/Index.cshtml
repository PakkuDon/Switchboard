@model IEnumerable<Switchboard.Models.Channel>

<div id="channels">
    <h4>Channels</h4>

    @using (Html.BeginForm("Index", "Channel", FormMethod.Get, new { id = "channel-search" }))
    {
        @Html.TextBox("searchTerm", "", new { type = "text", placeholder = "Search channels" });
        <input type="submit" value="&#128270;" />
    }

    <ul>
        @if (Model.Count() == 0)
        {
            <li>No channels found</li>
        }
        else
        {
            foreach (var item in Model)
            {
                <li>@Html.ActionLink(item.Name, "View", "Channel", new { id = item.ID }, null)</li>
            }
        }
    </ul>

    <script>
        $(document).ready(function () {
            // Filter list of channels by search term
            $('#channel-search').submit(function (e) {
                e.preventDefault();

                var form = $('#channel-search');
                $.get(form.attr('action'), form.serialize(), function (data, status) {
                    $('#channels').html(data);
                });
            });
        });
    </script>
</div>